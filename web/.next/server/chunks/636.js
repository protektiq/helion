exports.id=636,exports.ids=[636],exports.modules={3331:(e,t,n)=>{Promise.resolve().then(n.bind(n,8801)),Promise.resolve().then(n.bind(n,9730)),Promise.resolve().then(n.t.bind(n,9404,23))},460:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,2994,23)),Promise.resolve().then(n.t.bind(n,6114,23)),Promise.resolve().then(n.t.bind(n,9727,23)),Promise.resolve().then(n.t.bind(n,9671,23)),Promise.resolve().then(n.t.bind(n,1868,23)),Promise.resolve().then(n.t.bind(n,4759,23))},8801:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var i=n(326),a=n(7577),r=n(2991);function l(){let[e,t]=(0,a.useState)(""),[n,l]=(0,a.useState)(!1),s=(0,a.useCallback)(()=>{let t="string"==typeof e?e.trim():"";if(0===t.length)(0,r.qz)();else{let e=t.length>4096?t.slice(0,4096):t;(0,r.o4)(e)}l(!0),setTimeout(()=>l(!1),2e3)},[e]),o=(0,a.useCallback)(e=>{t(e.target.value??"")},[]),d=(0,a.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),s())},[s]);return(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexShrink:0},children:[i.jsx("label",{htmlFor:"helion-token-input",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0,0,0,0)"},children:"API token (paste JWT for authenticated requests)"}),i.jsx("input",{id:"helion-token-input",type:"password",value:e,onChange:o,onKeyDown:d,onBlur:s,placeholder:"Paste token","aria-label":"API token (paste JWT for authenticated requests)","aria-describedby":"helion-token-hint",maxLength:4096,style:{minWidth:"8rem",maxWidth:"16rem",padding:"0.25rem 0.5rem",fontSize:"0.875rem",border:"1px solid #d1d5db",borderRadius:"4px",background:"#fff",color:"#111"}}),i.jsx("button",{type:"button",onClick:s,"aria-label":"Save token",style:{padding:"0.25rem 0.5rem",fontSize:"0.875rem",border:"1px solid #d1d5db",borderRadius:"4px",background:"#f9fafb",color:"#374151",cursor:"pointer"},children:n?"Saved":"Save"}),i.jsx("span",{id:"helion-token-hint",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(0,0,0,0)"},children:"Token is stored in this browser only and sent as Bearer token to the API."})]})}},9730:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var i=n(326),a=n(7577),r=n(2809);function l(){let[e,t]=(0,a.useState)("idle"),[n,l]=(0,a.useState)(null),[s,o]=(0,a.useState)(null);(0,a.useCallback)(async()=>{t("loading"),o(null),l(null);try{let e=(0,r.Um)(),n=await e.getHealth();l(n),t("success")}catch(e){o((0,r.e$)(e)),t("error")}},[]);let d={fontSize:"0.75rem",color:"#6b7280",display:"flex",alignItems:"center",gap:"0.75rem",flexShrink:0};if("loading"===e)return(0,i.jsxs)("div",{role:"status","aria-live":"polite","aria-label":"Environment and database status loading",style:d,children:[i.jsx("span",{children:"Env: …"}),i.jsx("span",{children:"DB: …"})]});if("error"===e)return(0,i.jsxs)("div",{role:"status","aria-live":"polite","aria-label":`Health check failed: ${s??"API unreachable"}`,style:d,children:[i.jsx("span",{children:"Env: —"}),i.jsx("span",{children:"DB: —"})]});if("success"===e&&null!==n){var c;let e=function(e){if("string"!=typeof e||0===e.length)return"—";let t=e.trim();return t.length>32?t.slice(0,32):t}(n.environment),t="connected"===(c=n.database)?"connected":"disconnected"===c?"disconnected":"—",a="—"===t?"—":t,r=`Environment ${e}, database ${a}`;return(0,i.jsxs)("div",{role:"status","aria-live":"polite","aria-label":r,style:d,children:[(0,i.jsxs)("span",{children:["Env: ",e]}),(0,i.jsxs)("span",{children:["DB: ",a]})]})}return(0,i.jsxs)("div",{role:"status","aria-live":"polite","aria-label":"Environment and database status unknown",style:d,children:[i.jsx("span",{children:"Env: —"}),i.jsx("span",{children:"DB: —"})]})}},2809:(e,t,n)=>{"use strict";n.d(t,{Um:()=>o,e$:()=>l});var i=n(2991);let a="http://localhost:8000",r=function(){if("string"!=typeof process.env.NEXT_PUBLIC_API_URL)return a;let e=process.env.NEXT_PUBLIC_API_URL.trim();return e.length>0?e.replace(/\/+$/,""):a};function l(e){return 401===(e&&"object"==typeof e&&"status"in e&&"number"==typeof e.status?e.status:void 0)?"Unauthorized. Please log in.":e instanceof Error?e.message:"Network or request failed."}async function s(e,t,n){let i=`${e.replace(/\/+$/,"")}${t}`,a=function(e){let t={};return e.token&&e.token.length>0&&(t.Authorization=`Bearer ${e.token}`),e.contentType&&(t["Content-Type"]=e.contentType),t}({token:n.token,contentType:n.contentType??(n.body instanceof FormData?void 0:"application/json")}),r={method:n.method,headers:a};void 0!==n.body&&(r.body=n.body);let l=await fetch(i,r);if(!l.ok){let e,t=l.statusText;if((l.headers.get("content-type")??"").includes("application/json"))try{let n=await l.json();"detail"in n&&void 0!==n.detail&&(e=n.detail,"string"==typeof n.detail?t=n.detail:Array.isArray(n.detail)&&(t=n.detail.map(e=>e&&"object"==typeof e&&"msg"in e?e.msg:String(e)).join("; ")))}catch{}let n=Error(t);throw n.status=l.status,n.detail=e,n}return l.json()}function o(e={}){let t=e.baseUrl??r(),n=e.token??(0,i.LP)();return{getHealth:()=>s(t,"/api/v1/health/",{method:"GET",token:n}),login:e=>s(t,"/api/v1/auth",{method:"POST",token:n,body:JSON.stringify(e),contentType:"application/json"}),listUsers:()=>s(t,"/api/v1/auth/users",{method:"GET",token:n}),uploadFindings(e){let i=e instanceof FormData;return s(t,"/api/v1/upload",{method:"POST",token:n,body:i?e:JSON.stringify(e),contentType:i?void 0:"application/json"})},getClusters:()=>s(t,"/api/v1/clusters",{method:"GET",token:n}),postReasoning:e=>s(t,"/api/v1/reasoning",{method:"POST",token:n,body:JSON.stringify(e),contentType:"application/json"}),postExploitability:e=>s(t,"/api/v1/exploitability",{method:"POST",token:n,body:JSON.stringify(e),contentType:"application/json"}),postTickets:e=>s(t,"/api/v1/tickets",{method:"POST",token:n,body:JSON.stringify(e),contentType:"application/json"}),postJiraExport:e=>s(t,"/api/v1/jira/export",{method:"POST",token:n,body:JSON.stringify(e),contentType:"application/json"})}}},2991:(e,t,n)=>{"use strict";function i(){}function a(e){}function r(){}n.d(t,{LP:()=>i,o4:()=>a,qz:()=>r})},9935:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,metadata:()=>o});var i=n(9510),a=n(7371),r=n(8570);let l=(0,r.createProxy)(String.raw`/home/carlos/helion/web/app/components/AuthTokenInput.tsx#default`),s=(0,r.createProxy)(String.raw`/home/carlos/helion/web/app/components/EnvironmentBadge.tsx#default`),o={title:"Helion",description:"Vulnerability findings upload, clusters, reasoning, and Jira export"},d={color:"#2563eb",textDecoration:"underline",marginRight:"1rem",fontSize:"0.875rem"};function c({children:e}){return(0,i.jsxs)("html",{lang:"en",children:[(0,i.jsxs)("head",{children:[i.jsx("meta",{charSet:"utf-8"}),i.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsxs)("body",{children:[(0,i.jsxs)("header",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem 1rem",borderBottom:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[i.jsx(a.default,{href:"/",style:{fontSize:"1rem",fontWeight:600,color:"inherit",textDecoration:"none"},"aria-label":"Helion home",children:"Helion"}),(0,i.jsxs)("nav",{"aria-label":"Main",style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:"0.25rem"},children:[i.jsx(a.default,{href:"/upload",style:d,"aria-label":"Upload",children:"Upload"}),i.jsx(a.default,{href:"/results",style:d,"aria-label":"Results",children:"Results"}),i.jsx(a.default,{href:"/reasoning",style:d,"aria-label":"Reasoning",children:"Reasoning"}),i.jsx(a.default,{href:"/exploitability",style:d,"aria-label":"Exploitability",children:"Exploitability"}),i.jsx(a.default,{href:"/tickets",style:d,"aria-label":"Tickets preview",children:"Tickets"}),i.jsx(a.default,{href:"/jira-export",style:d,"aria-label":"Jira export",children:"Jira Export"}),i.jsx(a.default,{href:"/admin/users",style:d,"aria-label":"Admin users",children:"Admin Users"})]})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexShrink:0},children:[i.jsx(s,{}),i.jsx(l,{})]})]}),e]})]})}}};