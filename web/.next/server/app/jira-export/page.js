(()=>{var e={};e.id=104,e.ids=[104],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3335:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>m,routeModule:()=>p,tree:()=>c}),t(7015),t(9935),t(5866);var s=t(3191),i=t(8716),n=t(7922),a=t.n(n),l=t(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let c=["",{children:["jira-export",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7015)),"/home/carlos/helion/web/app/jira-export/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9935)),"/home/carlos/helion/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],m=["/home/carlos/helion/web/app/jira-export/page.tsx"],d="/jira-export/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/jira-export/page",pathname:"/jira-export",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3874:(e,r,t)=>{Promise.resolve().then(t.bind(t,1479))},7327:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});var s=t(326);let i={marginBottom:"1rem",color:"#b91c1c"};function n({message:e,onRetry:r,retryLabel:t}){return(0,s.jsxs)("div",{role:"alert",style:i,children:[s.jsx("p",{style:{margin:0},children:e}),"function"==typeof r&&s.jsx("button",{type:"button",onClick:r,"aria-label":t??"Retry",style:{marginTop:"0.5rem"},children:"Retry"})]})}},1479:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(326),i=t(7577),n=t(2809),a=t(7327);function l(){let[e,r]=(0,i.useState)(!0),[t,l]=(0,i.useState)(!1),[o,c]=(0,i.useState)("idle"),[m,d]=(0,i.useState)(null),[u,p]=(0,i.useState)(null),x=(0,i.useCallback)(e=>{r(e.target.checked)},[]),h=(0,i.useCallback)(e=>{l(e.target.checked)},[]),g=(0,i.useCallback)(async r=>{r.preventDefault(),c("submitting"),d(null),p(null);try{let r=(0,n.Um)(),s=await r.postJiraExport({use_db:e,use_reasoning:t});d(s),c("success")}catch(e){p((0,n.e$)(e)),c("error")}},[e,t]);return(0,s.jsxs)("main",{style:{padding:"2rem",maxWidth:"48rem",margin:"0 auto"},children:[s.jsx("h1",{style:{fontSize:"1.25rem",marginBottom:"1rem"},children:"Jira export"}),(0,s.jsxs)("form",{onSubmit:g,style:{marginBottom:"1.5rem"},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[s.jsx("input",{type:"checkbox",checked:e,onChange:x,"aria-label":"Use current clusters from database","aria-checked":e}),s.jsx("span",{children:"Use current clusters from database"})]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[s.jsx("input",{type:"checkbox",checked:t,onChange:h,"aria-label":"Run reasoning before export","aria-checked":t}),s.jsx("span",{children:"Run reasoning before export"})]}),s.jsx("button",{type:"submit",disabled:"submitting"===o,"aria-busy":"submitting"===o,"aria-label":"submitting"===o?"Exporting to Jira":"Export to Jira",children:"submitting"===o?"Exportingâ€¦":"Export to Jira"})]}),"error"===o&&null!==u&&""!==u&&s.jsx(a.Z,{message:u}),"success"===o&&null!==m&&(0,s.jsxs)("div",{children:[m.epics&&Object.keys(m.epics).length>0&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("h2",{style:{fontSize:"1rem",marginBottom:"0.5rem"},children:"Epics"}),s.jsx("ul",{style:{listStyle:"none",padding:0,margin:"0 0 1rem 0"},children:Object.entries(m.epics).map(([e,r])=>(0,s.jsxs)("li",{children:[e,": ",r]},e))})]}),m.issues&&m.issues.length>0&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("h2",{style:{fontSize:"1rem",marginBottom:"0.5rem"},children:"Issues"}),s.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:m.issues.map(e=>(0,s.jsxs)("li",{style:{marginBottom:"0.25rem"},children:[e.key,": ",e.title," (",e.tier,")"]},e.key))})]}),m.errors&&m.errors.length>0&&(0,s.jsxs)("div",{style:{marginTop:"1rem",color:"#b91c1c"},children:[s.jsx("h2",{style:{fontSize:"1rem",marginBottom:"0.5rem"},children:"Errors"}),s.jsx("ul",{style:{margin:0,paddingLeft:"1.25rem"},children:m.errors.map((e,r)=>s.jsx("li",{children:e},r))})]})]})]})}},7015:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/home/carlos/helion/web/app/jira-export/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[991,636],()=>t(3335));module.exports=s})();