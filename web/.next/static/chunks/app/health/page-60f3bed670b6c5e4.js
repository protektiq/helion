(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{3362:function(t,e,r){Promise.resolve().then(r.bind(r,6446))},6446:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return s}});var n=r(7437),i=r(2265),o=r(9116);function s(){let[t,e]=(0,i.useState)("idle"),[r,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),c=(0,i.useCallback)(async()=>{let t=(0,o.bR)();e("loading"),l(null),s(null);try{let r=await fetch("".concat(t,"/api/v1/health/")),n=await r.json().catch(()=>({}));if(!r.ok){let t=null!==n&&"object"==typeof n&&"detail"in n?String(n.detail):r.statusText;l(t),e("error");return}if(null===n||"object"!=typeof n||"string"!=typeof n.environment){l("Invalid health response shape."),e("error");return}s(n),e("success")}catch(t){l(t instanceof Error?t.message:"Network or request failed."),e("error")}},[]);return(0,i.useEffect)(()=>{c()},[c]),(0,n.jsxs)("main",{style:{padding:"2rem",maxWidth:"32rem",margin:"0 auto"},children:[(0,n.jsx)("h1",{style:{fontSize:"1.25rem",marginBottom:"1rem"},children:"Health"}),"loading"===t&&(0,n.jsx)("p",{role:"status","aria-live":"polite",children:"Loadingâ€¦"}),"error"===t&&(0,n.jsxs)("div",{role:"alert",style:{marginBottom:"1rem",color:"#b91c1c"},children:[(0,n.jsx)("p",{children:a}),(0,n.jsx)("button",{type:"button",onClick:c,"aria-label":"Retry health check",children:"Retry"})]}),"success"===t&&null!==r&&(0,n.jsxs)("dl",{style:{margin:0},children:[(0,n.jsx)("dt",{style:{fontWeight:600,marginTop:"0.5rem"},children:"Environment"}),(0,n.jsx)("dd",{style:{marginLeft:0,marginTop:"0.25rem"},children:r.environment}),void 0!==r.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("dt",{style:{fontWeight:600,marginTop:"0.5rem"},children:"Status"}),(0,n.jsx)("dd",{style:{marginLeft:0,marginTop:"0.25rem"},children:r.status})]}),void 0!==r.database&&null!==r.database&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("dt",{style:{fontWeight:600,marginTop:"0.5rem"},children:"Database"}),(0,n.jsx)("dd",{style:{marginLeft:0,marginTop:"0.25rem"},children:r.database})]})]})]})}},9116:function(t,e,r){"use strict";r.d(e,{bR:function(){return s},g0:function(){return a},nd:function(){return o}});var n=r(257);let i="http://localhost:8000",o="helion_access_token";function s(){if("string"!=typeof n.env.NEXT_PUBLIC_API_URL)return i;let t=n.env.NEXT_PUBLIC_API_URL.trim();return t.length>0?t.replace(/\/+$/,""):i}function a(){try{let t=localStorage.getItem(o),e="string"==typeof t?t.trim():"";if(0===e.length)return{};return{Authorization:"Bearer ".concat(e)}}catch(t){return{}}}},257:function(t,e,r){"use strict";var n,i;t.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(4227)},4227:function(t){!function(){var e={229:function(t){var e,r,n,i=t.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var l=[],c=!1,u=-1;function f(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&h())}function h(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(n=l,l=[];++u<e;)n&&n[u].run();u=-1,e=l.length}n=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new d(t,e)),1!==l.length||c||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}},s=!0;try{e[t](o,o.exports,n),s=!1}finally{s&&delete r[t]}return o.exports}n.ab="//";var i=n(229);t.exports=i}()}},function(t){t.O(0,[971,117,744],function(){return t(t.s=3362)}),_N_E=t.O()}]);